# Первая игра на Pygame
Итак, вы изучили основы Питона, скачали pygame и готовы делать игру. Но с чего начать?  
С шаблона кода pygame! Когда вы начинаете любой новый проект, качайте шаблон здесь (файл называется ex.py): [ссылка](https://disk.yandex.ru/d/wueDsYmkqlHs2A)  
Давайте разберём его по кусочкам.  
## Шаблон ex.py
![image](https://user-images.githubusercontent.com/56085790/140838149-6b60ef30-13c0-4013-ac1d-a79e167b805a.png)   
![image](https://user-images.githubusercontent.com/56085790/140841380-f0db1c02-24a6-4d6a-81d1-fca70f674cb7.png)  

## Функции и полезности
Код на pygame состоит из трёх частей:  
- Определение переменных (цвета, разрешение, экран, шрифты и т.п.)  
- Ивенты, управление, просчитывание игрового процесса  
- Рисование нового кадра, то есть всё, что связано с графикой  

Вот так делится на эти три части наш код:  
![image](https://user-images.githubusercontent.com/56085790/140828746-074f2613-dcd3-41e9-a6ac-025be8863233.png)  

В конце кода, помимо прочего, есть две новые функции:  
```py
font.render(str(pos), True, BLACK)  # Рендерит текст `str(pos)`, используя шрифт `font` чёрного цвета
```
Рендерить — означает "делать что-то готовым (к помещению на экран, в нашем случае)". Следующая функция:
```py
sc.blit(picture, position)
```
Помещает на экран изображение `picture`, ставя его верхний левый угол на координаты `position`. Например:
```py
name = font.render('Дима', True, RED)
sc.blit(name, (0,0))
```
Сделает нам текст в верхней левой части экрана:  
![image](https://user-images.githubusercontent.com/56085790/140817476-ba9d949a-5667-40cb-b6ab-5235b12ca74f.png)  
Но это выглядит некрасиво, поэтому лучше сделать отступ:)
## Итак, давайте напишем что-нибудь простое. Крестики-нолики подойдут!
### Как они устроены?
Сама игра в крестики-нолики проста. Нужно просто создать двухмерный массив (определение):
```py
table = [[0, 0, 0], 
         [0, 0, 0], 
         [0, 0, 0]]
```
Теперь давайте скажем, что 0 — это пустая клетка, 1 — крестик, 2 — нолик. Писать в массиве ничего не нужно, просто когда кто-то делает ход, мы меняем 0 на 1 или 2 в нужном месте (управление):
```py
table[1][2] = 2
```
Ещё нам нужна переменная, которая помнит, чей сейчас код (пусть первым ходит нолик):
```py
turn = 2
```
И последнее: когда кто-то делает ход, нужно проверять, победил он в игре, или ещё нет:
```py
def check_win():
    for i in range(3):
        if table[i][0] != 0 and table[i][0] == table[i][1] and table[i][1] == table[i][2]:
            return True
        if table[0][i] != 0 and table[0][i] == table[1][i] and table[1][i] == table[2][i]:
            return True
    if table[0][0] != 0 and table[0][0] == table[1][1] and table[1][1] == table[2][2]:
        return True
    if table[0][2] != 0 and table[0][2] == table[1][1] and table[1][1] == table[2][0]:
        return True
    return False
```
### Простая геометрия
Теперь займёмся рисованием. Сегодня мы воспользуемся простой геометрией — функционалом для создания фигур, а на следующей паре заменим это на картинки повеселее:) Вот все функции, которые могут нам понадобиться:
```py
# Прямоугольник, если не указать толщину, будет применена заливка
pygame.draw.rect(sc, <цвет>, (<x угла>, <y угла>, <размер по x>, <размер по y>), [толщина])
# Нарисуем квадрат со стороной 100 посередине экрана:
pygame.draw.rect(sc, BLACK, (450, 250, 100, 100))

# Круг, толщина так же не обязательна
pygame.draw.circle(sc, <цвет>, <координаты центра>, <радиус>, [толщина])
# Нариусем красный бублик радиусом 50
pygame.draw.circle(sc, RED, (200, 100), 50, 10)

# Линия заданной толщины
pygame.draw.line(sc, <цвет>, <координаты точки 1>, <координаты точки 2>, <толщина>)
pygame.draw.line(sc, GREEN, (50, 500), (500, 100), 3)

# Линия толщины 1, на которую применяется сглаживание 
# Лучше всего использовать их для создания тонких линий, чтобы было красиво
pygame.draw.aaline(sc, <цвет>, <координаты точки 1>, <координаты точки 2>)
pygame.draw.aaline(sc, LIGHT_GREEN, (50, 520), (500, 120))
```
Вот, что у нас получилось:  
![image](https://user-images.githubusercontent.com/56085790/140987978-b41f9e9b-3418-42a3-886b-ba528798d2ca.png)  
### Рисуем поле
Воспользуемся этим функционалом для создания игрового поля из квадрата и линий:
```py
pygame.draw.rect(sc, BLACK, (455, 60, 510, 510), 10)
for i in range(1,3):
    pygame.draw.line(sc, BLACK, (455+i*TILE_SIZE, 60), (455+i*TILE_SIZE, 60+510), 10)
    pygame.draw.line(sc, BLACK, (455, 60+i*TILE_SIZE), (455+510, 60+i*TILE_SIZE), 10)
```
![image](https://user-images.githubusercontent.com/56085790/140987995-4f87444b-42d7-406a-b0cf-ff815f1a15d2.png)
